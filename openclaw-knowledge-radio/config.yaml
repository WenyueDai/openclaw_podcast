timezone: "Europe/London"
lookback_hours: 48

paths:
  # All paths below are relative to the package directory (where run_daily.py lives).
  # You can also use absolute paths if preferred.
  data_dir: "data"
  output_dir: "output"
  state_dir: "state"
  # Obsidian vault — set to an absolute path if you use Obsidian, or leave as-is
  # to create a local notes/ folder next to run_daily.py.
  obsidian_vault: "notes"

limits:
  max_items_total: 40
  max_items_protein: 25
  max_items_daily_knowledge: 5

rss_sources:
  - name: "arXiv q-bio.BM"
    url: "https://arxiv.org/rss/q-bio.BM"
    tags: ["protein-design", "preprint", "arxiv"]
    bucket: "protein"

  - name: "Nature (main journal)"
    url: "https://www.nature.com/nature/current_issue/rss"
    tags: ["protein-design", "nature", "journal"]
    bucket: "protein"

  - name: "Nature - Protein Design"
    url: "https://www.nature.com/subjects/protein-design.rss"
    tags: ["protein-design", "nature", "topic"]
    bucket: "protein"

  - name: "arXiv q-bio.QM"
    url: "https://arxiv.org/rss/q-bio.QM"
    tags: ["quantitative-biology", "preprint", "arxiv"]
    bucket: "protein"

  - name: "Nature Biotechnology"
    url: "https://www.nature.com/nbt.rss"
    tags: ["biotech", "journal"]
    bucket: "journal"

  - name: "Nature Chemical Biology"
    url: "https://www.nature.com/nchembio.rss"
    tags: ["chemical-biology", "journal"]
    bucket: "journal"

  - name: "PNAS"
    url: "https://www.pnas.org/rss/current.xml"
    tags: ["biology", "journal"]
    bucket: "journal"

  - name: "arXiv cs.LG (AI/ML)"
    url: "https://arxiv.org/rss/cs.LG"
    tags: ["machine-learning", "arxiv"]
    bucket: "ai_bio"

  - name: "arXiv stat.ML"
    url: "https://arxiv.org/rss/stat.ML"
    tags: ["machine-learning", "statistics"]
    bucket: "ai_bio"

  - name: "Nature News"
    url: "https://www.nature.com/nature/articles?type=news&format=rss"
    tags: ["science-news"]
    bucket: "news"

  - name: "Scientific American - Health"
    url: "https://feeds.feedburner.com/ScientificAmerican-Health"
    tags: ["science-news"]
    bucket: "news"

  - name: "Nature Methods"
    url: "https://www.nature.com/nmeth/current_issue/rss"
    tags: ["journal", "methods"]
    bucket: "protein"

  - name: "Endpoints News"
    url: "https://endpts.com/feed/"
    tags: ["biotech", "industry"]
    bucket: "ai_bio"

  - name: "Quanta Magazine"
    url: "https://www.quantamagazine.org/feed/"
    tags: ["math", "science"]
    bucket: "daily"

  - name: "Protein Science"
    url: "https://onlinelibrary.wiley.com/feed/1469896x/most-recent"
    tags: ["protein"]
    bucket: "protein"

  # -------------------------
  # Key Researchers (Author RSS)
  # -------------------------

  - name: "David Baker (arXiv)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"David+J.+Baker\"&sortBy=submittedDate&sortOrder=descending"
    tags: ["protein-design", "author"]
    bucket: "protein"

  - name: "Sergey Ovchinnikov (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Sergey+Ovchinnikov\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ['protein-design']
    bucket: "protein"

  - name: "Alexander Rives (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Alexander+Rives\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["protein-LLM", "esm", "author"]
    bucket: "ai_bio"

  - name: "Brian Hie (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Brian+Hie\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["protein-LLM", "evolution", "author"]
    bucket: "ai_bio"

  - name: "Jure Leskovec (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Jure+Leskovec\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["graph-learning", "bio-ml", "author"]
    bucket: "ai_bio"

  - name: "Regina Barzilay (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Regina+Barzilay\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["ai-biomed", "author"]
    bucket: "ai_bio"

  - name: "Bonnie Berger (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Bonnie+Berger\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["computational-biology", "author"]
    bucket: "ai_bio"

  - name: "Tommi Jaakkola (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Tommi+Jaakkola\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["machine-learning", "bio-ml", "author"]
    bucket: "ai_bio"

  - name: "Pieter Abbeel (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Pieter+Abbeel\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["machine-learning", "author"]
    bucket: "ai_bio"

  - name: "Aviv Regev (arXiv API)"
    url: "http://export.arxiv.org/api/query?search_query=au:\"Aviv+Regev\"&sortBy=submittedDate&sortOrder=descending&max_results=25"
    tags: ["single-cell", "computational-biology", "author"]
    bucket: "ai_bio"

pubmed:
  enabled: true                        # set to false to disable
  email: "daiwenyueva@gmail.com"        # required by NCBI usage policy
  lookback_days: 2                     # how many days back to query
  max_results_per_term: 50             # max PubMed results per search term
  bucket: "protein"
  tags: ["pubmed", "journal", "biology"]
  search_terms:
    - "protein design deep learning"
    - "protein structure prediction"
    - "protein language model"
    - "diffusion model protein"
    - "AlphaFold structure"

daily_knowledge:
  enabled: true

wiki_context:
  enabled: true
  max_items: 5
  topics:
    - "Protein design"
    - "Computational biology"
    - "Bioinformatics"
    - "Machine learning"
    - "AlphaFold"

podcast:
  enabled: true
  target_minutes: 60
  # Change voice if you want Mandarin etc. Example: "zh-CN-XiaoxiaoNeural"
  voice: "en-GB-RyanNeural"
  voice_rate: "+35%"
  tts_chunk_chars: 2800
  chunking:
    fulltext_threshold_chars: 2500
    tierA_max: 999
    tierB_max: 999
    tierB_batch_size: 5
    deep_dive_max_tokens: 2600
    roundup_max_tokens: 2200
    use_merge_llm: false


llm:
  enabled: true
  provider: "openrouter"
  # Script generation model — used for writing the podcast narration.
  # Trinity is optimized for creative writing and flowing prose.
  model: "arcee-ai/trinity-large-preview:free"
  # Analysis model — used for per-article fact extraction before script writing.
  # Gemini 2.5 Flash is ranked #1 for science/academia on OpenRouter.
  analysis_model: "stepfun/step-3.5-flash:free"
  api_key_env: "OPENROUTER_API_KEY"
  temperature: 0.25
  max_output_tokens: 8192

ranking:
  absolute_sources:
    - "Frances Arnold (Google Scholar)"
    - "David Baker (arXiv)"
  absolute_source_substrings:
    - "david baker"
    - "sergey ovchinnikov"
    - "mohamed alquraishi"
    - "alexander rives"

  source_priority_rules:
    - {contains: "nature biotechnology", priority: 1}
    - {contains: "nature chemical biology", priority: 1}
    - {contains: "pnas", priority: 2}
    - {contains: "nature (main journal)", priority: 1}
    - {contains: "arxiv", priority: 5}
    - {contains: "sciencedirect", priority: 6}
